<!-- ***************************************************************
      Modulopoly - fichier principal du jeu.
      Version release - juillet 2019
********************************************************************
// - lancement de la fonction principale du jeu, dans gameloop.js
// - menu qui permet de configurer la partie
// - menu qui permet de choisir le nombre de joueurs, le nom de chaque joueur ainsi que leur section
// - bouton Start qui lance le menu de configuration de la partie
// - bouton Comment jouer qui affiche l'écran des règles du jeu
// - afficher un slider pour choisir la vitesse des animations
// - affiche le canvas, où l'on dessine le plateau et les pions
// - menu latéral des indications des joueurs
// - boutons radios pour répondre aux cartes questions
// - affichage des cartes chance
// - affichage de l'écran achat d'une carte module
// - écran des règles
// - écran de victoire
// - chargement de tous les fichiers scripts en mémoire


Laurent Barraud, Bastian Chollet, Luca Coduri,
Guillaume Duvoisin, Guilain Mbayo & David Rossy.
Un projet mandaté par M. Chavey.
SI-CA1a - juillet 2019 - CPNV
******************************************************************** -->




<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Modulopoly</title>
    <link rel="stylesheet" href="fonts/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/menu_indications.css">
    <link rel="stylesheet" href="css/boutons.css">
    <link rel="stylesheet" href="css/menu.css">
    <link href="https://fonts.googleapis.com/css?family=Baloo+Bhai&display=swap" rel="stylesheet">


</head>
<body>


<!-- Menu qui permet de configurer la partie-->
<div id="menu">
    <div id="cfg-bg">
        <div id="game-config">
            <div id="cfg-title">Configurer la partie</div>
            <div id="croix">
                <span class="croix" id="line1"></span>
                <span class="croix" id="line2"></span>
            </div>
            <!-- Menu qui permet de choisir le nombre de joueurs, le nom de chaque joueur ainsi que leur section-->
            <div id="menu">
                <div id="div-nbJoueurs">
                    <label for="nbJoueurs">Nombre de joueurs:</label>
                    <select name="nbJoueurs" id="nbJoueurs" class="">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </div>
                <div id="options-joueurs">
                    <table>
                        <tr id="options-joueur0">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ0" id="nomJ0" value="Joueur1" class=""></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ0" id="sectionJ0">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>

                        </tr>
                        <tr id="options-joueur1">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ1" id="nomJ1" value="Joueur2"></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ1" id="sectionJ1">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="options-joueur2">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ2" id="nomJ2" value="Joueur3"></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ2" id="sectionJ2">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="options-joueur3">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ3" id="nomJ3" value="Joueur4"></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ3" id="sectionJ3">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="options-joueur4" style="display: none;">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ4" id="nomJ4" value="Joueur5"></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ4" id="sectionJ4">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>
                        </tr>
                        <tr id="options-joueur5" style="display: none;">
                            <td><label>Nom:</label></td>
                            <td><input type="text" name="nomJ5" id="nomJ5" value="Joueur6"></td>
                            <td><label>Section:</label></td>
                            <td>
                                <select name="sectionJ5" id="sectionJ5">
                                    <option value="Informatique" selected>Informatique</option>
                                    <option value="Polyméchanique">Polyméchanique</option>
                                    <option value="Médiamaticien">Médiamaticien</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                </div>
                <button id="btnPlay" class="flat-button" name="play" value="play" onclick="fnAfficherMenuIndications();">
                    Jouer
                </button>
            </div>
        </div>
    </div>

    <div id="background">
        <div id="content">
            <header>
                <div id="hamburger-menu">
                    <span id="top-line" class="line"></span>
                    <span id="middle-line" class="line"></span>
                    <span id="bottom-line" class="line"></span>
                </div>

            </header>
            <div id="text">
                <span id="title" class="titles">Modulopoly</span>
                <span id="under-title" class="titles">Un projet mandaté par M. Chavey</span>
                <span id="under-title" class="titles">Classe SI-CA1a - juillet 2019</span>
                <br>
                <br>
                <div id="btn-start" class='flat-button'>Start</div>
                <div id="btn-howto" class='flat-button' onclick="overlayReglesOn();">Comment jouer</div>
            </div>
        </div>
    </div>
</div>
<br>

<!-- Div qui contient toute la fenêtre -->
<div id="game">

    <!-- Affiche un slider pour choisir la vitesse d'animation des pions
     et appelle la fonction qui affiche sa valeur, lorsqu'on le modifie -->
    <label for="vitesseAnimSlider">Vitesse des pions</label>
    <input id="vitesseAnimSlider" type="range" min='4' max='28' value='16' oninput="fnAfficherValeurSlider(this.value);">
    <output id="vitesseAnimSliderValue" name="vitesseAnimSliderValue" for="vitesseAnimSlider"></output>
    <br>
    <canvas id="plateau_jeu" width="1200" height="800" style="border: 5px solid #330968; background-color:#38196A">
        Texte alternatif pour les navigateurs ne supportant pas Canvas.
    </canvas>

    <!-- Menu latéral des indications des joueurs -->
    <div id="menu_indications">
        <div id="menu_indications_titre">SCORES</div>
        <div id="menu_indications_tours"></div>
        <div id="menu_indications_joueurs"></div>
    </div>
    <!-- Fin menu des indications -->

    <!-- Affichage des cartes questions avec boutons radios pour répondre -->
    <div id="carte_question">
        <p id="txt_question"></p>
        <div id="rdb_question">
            <input type="radio" name="reponse" value="r1" ondblclick="fnVerifReponseQuestion();">
            <label id="r1" for="r1"></label>
            <br>

            <input type="radio" name="reponse" value="r2" ondblclick="fnVerifReponseQuestion();">
            <label id="r2" for="r2"></label>
            <br>

            <input type="radio" name="reponse" value="r3" ondblclick="fnVerifReponseQuestion();">
            <label id="r3" for="r3"></label>
            <br>

            <input type="radio" name="reponse" value="r4" ondblclick="fnVerifReponseQuestion();">
            <label id="r4" for="r4"></label>
            <br>
        </div>
        <br>
        <input id="btn-verif" type="button" value="Réponse" width="200" onclick="fnVerifReponseQuestion(); return false;">
    </div>

    <!-- Affichages des cartes chance -->
    <div id="carte_chance" onclick="fnEffaceChance();">
        <img src="images/chance/close.png" width="20" align="right" onclick="fnEffaceChance()" alt="Faire disparaitre la carte chance."/>
        <p><strong id="titre_chance"></strong></p>
        <br>
        <p id="txt_chance"></p>
    </div>
    <div id="choix_cible">
        <p><strong id="titre_cible"></strong></p>
        <br>
        <form id="form_cibles">
        </form>
    </div>
    <!-- Fin Cartes chance -->

    <!-- Affichage de l'écran d'achat d'une carte module -->
    <div id="carte_module" ondblclick="fnEffacerModule();">
        <p><strong id="titre_module"></strong></p>
        <br>
        <p id="txt_module"></p>
        <div>
            <input id="acheterModule" type="button" value="Acheter"
                   onclick="fnClickAcheterModule(caseAchetee);">
            <input id="passerModule" type="button" value="Non merci" onclick="fnEffacerModule();">
        </div>
    </div>
    <!-- Fin carte module -->
</div>


<!-- Ecran des règles -->
<div id="overlayRegles" onclick="overlayReglesOff()">
    <div id="overlayReglesText">
        <p>Chaque joueur choisit une section, puis reçoit 500 points de ressources pour commencer.</p>
        <p>Un pion de couleur lui est automatiquement attribué.</p>
        <p>Le joueur un commence par lancer le dé, puis chaque joueur quand son tour vient.</p>
        <br>
        <p>Il y a différents types de cases :</p>
        <br>
        <p>a) cases modules</p>
        <p>Quand vous vous arrêtez sur une case module vous pouvez choisir d'acheter une carte module avec vos points accumulés.</p>
        <p>Le prix du module est connu uniquement quand vous vous arrêtez dessus.</p>
        <p>Si on ne vous propose pas de l'acheter quand vous vous y arrêtez, c'est que vous n'avez pas assez de ressources.</p>
        <br>
        <p>b) cases test</p>
        <p>Vous êtes obligé de vous y arrêter.</p>
        <p>Une question apparaîtra à l'écran, avec 4 réponses possibles à choix.</p>
        <p>Si vous répondez juste, vous recevrez 500 points.</p>
        <p>Si vous répondez faux, vous ne perdez rien et le tour passe.</p>
        <br>
        <p> c) case chance</p>
        <p>Une carte apparaîtra à l'écran, avec des instructions que vous pourrez ou devrez appliquer.</p>
        <br>
        <p> d) case CFC</p>
        <p>Pour passer l'examen, vous devez avoir obtenu une case module de</p>
        <p>chaque couleur (rouge, bleu, vert et jaune) et accumulé 1000 points.</p>
        <p>A ce moment, lors de votre tour de jeu, un bouton supplémentaire apparaîtra pour vous déplacer sur la case au centre du plateau.</p>
        <br>
        <p>Pour recevoir votre CFC et gagner la partie, il vous faudra obtenir un 4, 5 ou 6 au dé.</p>
        <p>Si vous faites moins, c'est échoué. Vos points sont perdus, mais pas vos cartes modules et le jeu continue.</p>
        <br>
        <p>Le premier joueur à obtenir son CFC gagne la partie.</p>
        <br>
        <p style="color:CadetBlue">Cliquez pour fermer.</p>
    </div>
</div>


<!-- Ecran de victoire -->
<div id="overlayVictoire" onclick="overlayVictoireOff()">
    <div id="overlayVictoireText">Bravo, vous avez obtenu votre CFC !</div>
    <img id="img_diploma" src="images/diplome.png" alt="Diplôme obtenu">
</div>


<!-- code de triche ultime, n'utiliser que pour tester les overlays
<div style="padding:20px">
  <button onclick="overlayVictoireOn()">CFC direct</button>
</div>
-->

<script type="text/javascript" src="scripts/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="scripts/varGlobal.js"></script>
<script type="text/javascript" src="scripts/affichage.js"></script>
<script type="text/javascript" src="scripts/joueurs.js"></script>
<script type="text/javascript" src="scripts/jeu-html.js"></script>
<script type="text/javascript" src="scripts/question.js"></script>
<script type="text/javascript" src="scripts/chance.js"></script>
<script type="text/javascript" src="scripts/gameloop.js"></script>
<script type="text/javascript" src="scripts/menu_indications.js"></script>
<script type="text/javascript" src="scripts/obtention_module.js"></script>

</body>
</html>




